# 一维数组传递  
## 1、数组传递的概念  
函数间的数组传递并不是把数组从一个函数中传递到另一个函数中，而是告诉被调用的函数所要操作的数组在内存空间的位置，即操作内存中的哪一段数据。为此，要传递数据的开始位置和结束位置，而结束位置可用数组元素的个数代替。因为数组在计算机的内存中是连续存储的，如果数组的开始位置已知，且存储单元的数量（即元素的个数）已知，那么数组的结束位置就是确定的。  
在函数间传递数组，只要传递数组的开始地址和元素个数即可。因此，数组传递的本质和核心是地址传递，对于非字符型数组还需要一个整型参数以传递元素个数。  

## 2、一维数组传递的方法  
数组的传递方法就是指函数的形参和实参，传递一维数组时，函数的参数如下所示。  
>（1）函数的形参有2个。第1个参数通常为元素指针，即与要传递的数组具有相同数据类型的指针变量，以传递数组的首地址；第2个参数为整型变量，以传递要操作的元素个数。
（2）对应的实参也有2个。第1个参数为数组的首地址，通常为数组名或保存了数组首地址的指针变量；第2个参数为数组大小，以传递数组中的所有元素。
示例如下：
```cpp
    void f(float *p,int n);
    int main()
    {
        float a[10];
        f(a,10);
    }
```
>上例第1行中，float *p可以写成float p[]的形式，两种写法的含义一样，都表示float型指针变量；第5行如写成f(a,5);，则传递数组a的前5个元素。  

## 函数操作数组  
函数操作数组通常分2步，第一步传递数组，第二步在被调用函数中通过指针完成数组的具体操作，方法与前面讲的指针操作数组的方法相同。

# 第1关：合并两个有序数组  
## 算法提示  
>程序算法思想是：依次取出第一个数组（a）中的元素，插入第二个数组（b），并保持第二个数组的有序，具体如下所示。  
（1）遍历数组a，从前到后取出每个元素a[i]。  
（2）遍历数组b，查找插入位置j。  
（3）根据插入位置插入元素，位置不同插入的方法是不同的。
①如果插入位置j在数组b的末尾，只要把a[i]直接放到数组b的j位置即可；  
②如果插入位置j不在数组b的末尾，在把a[i]放到数组b的j位置之前，要通过循环语句把数组b的j位置及其之后的元素要依次向后移一位，以空出插入位置。  

<mark>程序</mark>

```cpp
#include<iostream>
using namespace std;

void print(int *p,int n)    	        // 输出一维数组
{
    for(int i=0;i<n;i++){
        //**********found**********
        cout<<p[i]<<'\t';
        if((i+1)%5==0)cout<<'\n';        //输出5个换行
    }
    cout<<'\n';
}

int fun(int *p1,int n1,int *p2,int n2)  // 把p1合并到p2中，并返回合并后的元素个数
{
	int i,j,k;
    for(i=0;i<n1;i++){
        for(j=0;j<n2;j++)               // 查找插入位置j
            if(p1[i]<p2[j]) break;

        if(j>=n2) {                     // 如果在内嵌循环内没有找到j的位置，将p1[i]插入数组p2的末尾              
            //**********found**********
            p2[j]=p1[i];
            n2++;
        }
        else{                           // 将p1[i]插入数组p2[j]的位置，j不在末尾 
            for( k=n2;k>j;k--) p2[k]=p2[k-1];
                p2[k]=p1[i];
                n2++;
        }
    }
    return n2;
}

int main(void )
{
    int a[10]={3,5,9,15,25,30},b[20]={1,2,8,10,16,18,20};
    int len;
    cout<<"原第1个数组是：\n";
    print(a,6);         // 输出数组a
    cout<<"原第2个数组是：\n";
    print(b,7);         // 输出数组b
    //**********found**********
    len=fun(a,6,b,7);    // 合并数组a和数组b
    cout<<"合并后的数组是：\n";
    print(b,len);       // 输出合并后的数组
	system("pause");
    return 0;
}
```
>预期输出：  
原第一个数组是：  
3  5  9  15  25   
30  
原第二个数组是：  
1  2  8  10  16   
18  20  
合并后的数组是：  
1  2  3  5  8   
9  10  15  16  18  
20  25  30  

  
# 行指针传递二维数组  
函数间传递二维数组的基本概念和传递一维数组相似，所不同的指针变量的形式和数组大小的含义。  
### 1、函数定义   
二维数组的数组名是行地址，所以传递二维数组时，第1个形参应为行指针，第2个形参相应的为二维数组的行数，函数说明（定义）格式如下所示。  
>函数类型 函数名(数据类型 (*指针变量名)[N], int 变量名);  
或  
函数类型 函数名(数据类型 指针变量名[ ] [N], int 变量名);  
其中，第1个参数有两种形式，其含义相同，都是行指针。

### 2、函数调用  
以行指针来传递二维数组时，函数调用格式如下所示。  
>函数名(二维数组名, 二维数组行数);  
或  
函数名(指针变量名, 二维数组行数);  
其中指针变量保存了二维数组的首行地址。  

行指针传递二维数组示例如下：  
```cpp
    void f(float (*p)[5],int n);
    int main()
    {
        float b[3][5];
        f(b,3);
    }
    //上例第1行中，float (*p)[5]可以写成float p[][5]的形式。
```


### 元素指针传递二维数组  
二维数组的元素指针和一维数组的元素指针本质是一样的，所以元素指针传递二维数组的方法与传递一维数组相似。  
>1、形参相同  
第一个形参为元素指针；第二个参数为整型变量，以传递元素个数。  
2、实参相似  
第一个实参为第一个元素的地址，第二个参数为二维数组元素个数。  

元素指针传递二维数组示例如下：
```cpp
    void f(float *p,int n);
    int main()
    {
        float b[3][5];
        f(&b[0][0],15);
    }
//上例第5行中，f(&b[0][0],15);可以写成f(b[0],15);或f(*b,15);等形式，但不能写成f(b,15);和f(b,3);。
```

### 函数操作二维数组  
函数操作二维数组也通常分2步，第一步通过行指针或元素指针传递数组；第二步在被调用函数中通过行指针或元素指针完成二维数组的具体操作，方法与前面讲的指针操作二维数组的方法相同。  

# 第2关：生成并输出杨辉三角形

### 算法提示
>- 1、如预期输出所示，将杨辉三角形保存在矩阵（二维数组）的下三角，则二维数组第1列元素和主对角线上的元素值为1，其他元素的值为其上一行中同列与前一列元素之和。  
>- 2、对杨辉三角的操作是操作二维数组中的部分元素（下三角），这可以在遍历二维数组时通过设定循环条件实现，即遍历部分元素。  
>- 3、在遍历的过程中，根据杨辉三角的含义用条件语句设定相应元素的值。  


<mark>程序</mark>

```cpp
#include<iostream>
using namespace std;
const int N=20;     // N为杨辉三角的大小，即最大行数和列数

void create(int p[][N],int n)   // 建立杨辉三角
{
    for(int i=0;i<n;i++)
        for(int j=0;j<=i;j++)
			//**********found**********
            if(j==0||j==i) p[i][j]=1;
	        //**********found**********
            else p[i][j]=p[i-1][j-1]+p[i-1][j];
}

//**********found**********
void print(int (*p)[N],int n)       // 输出杨辉三角
{
    for(int i=0;i<n;i++){
        for(int j=0;j<=i;j++)
            cout<<p[i][j]<<'\t';
        cout<<endl;
    }
}

int main()
{
    int y[N][N],n;      // 用矩阵y的下三角保存杨辉三角，n为测试行数和列数 
	cout<<"请输入杨辉三角的阶数：";
    cin>>n;
    cout<<endl;
	//**********found**********
    create(y,n);
    print(y,n);
    system("pause");
    return 0;
}
```

# 第3关：字符串逆序
## 传递字符数组
函数间传递字符数组的方法与传递一维数组相似，主要区别是字符数组是不需要传递数组大小的。因为对字符数组操作，通常到字符串的结束标志为止；所以传递字符数组只要一个参数，即字符型的指针。  
### 1、函数定义
>传递字符数组的函数说明（定义）格式如下所示。  
函数类型 函数名(char *指针变量名);  
或
函数类型 函数名(char 指针变量名[]);  
函数形参有两种形式，但含义相同，都是元素指针。  

### 2、函数调用  
>传递字符数组的函数调用格式如下所示。  
函数名(数组名);  
或  
函数名(指针变量名);  
<mark>其中指针变量保存了字符数组的首地址。</mark>  

传递字符数组示例如下：
```cpp
    void f(char *s);
    int main()
    {
        char str[100];
        f(str);
    }

//上例第1行中，char *s可以写成char s[]的形式；第5行f(str);可以写成f(&str[0]);的形式。
```


## 函数操作字符数组
通常，函数操作字符数组同样分2步，第一步通过字符型指针变量传递字符数组；第二步在被调用函数中通过指针完成字符数组的具体操作，方法与前面讲的指针操作字符数组的方法相同。
通过指针操作数组时，注意指针所指的位置。  

## 算法提示
>要将字符数组中的字符逆序，可通过下列方法实现。  
（1）定义指针p1指向数组的首字符，定义指针p2指向数组的尾字符。  
（2）交换p1所指字符和p2所指字符。  
（3）p1指向下一个字符，p2指向前一个字符。  
（4）重复步骤（1）至步骤（3），直到指针p1和p2相遇。
其中使指针p2指向数组的尾字符的方法是，首先使指针p2指向数组的首字符，然后通过循环实现只要其所指向的字符不是字符串结束标记，指针就不断向后移动。循环条件是指针所指字符不是字符串结束标记，向后移动的是指针，注意其操作对象的不同；与此相似，指针p1和p2相遇比较的位置，不是所指向的字符。

**程序**
```cpp
#include <iostream>
#include <cstring>
using namespace std;

//**********found**********
void f(char *s)  
{
	char t,*i,*j;
	j=i=s;
	while(*i) i++; 
	//**********found**********
	i=i-1;
	for(;j<i;i--,j++)
	{
        t=*i;
        *i=*j;
        *j=t;
    }
}

int main()
{
	char a[80];
	char *p;
	cout<<"输入字符串：";
	cin.getline(a,79);
	cout<<"输出原字符串:\n";
	for(p=a;p<a+strlen(a);p++)
		//**********found**********
		cout<<*p;
	cout<<'\n';	
	//**********found**********
	f(a);
	cout<<"输出逆序后的字符串:\n";	
    cout<<a;
	cout<<'\n';
	system("pause");
	return 0;
}
```

### 链接
https://www.educoder.net/tasks/ZA7G2JBF/1247005/b4tff8h9rvyn?coursesId=ZA7G2JBF